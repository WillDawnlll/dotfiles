# This file has been auto-generated by i3-config-wizard(1).
# i3 config file (v4)
set $mod Mod4

font pango:terminess nerd font mono bold 26
#mipad2
#font pango:terminess nerd font mono bold 12
#font pango:3270 nerd font bold 26
#font pango:sarasa mono sc nerd 26
# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
#exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork

# Use pactl to adjust volume in PulseAudio.
set $refresh_i3status killall -SIGUSR1 i3status
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10% && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10% && $refresh_i3status
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
#bindsym $mod+Return exec ~/dotfiles/st-alpha -A 0.8 tmux
bindsym $mod+Return exec foot tmux
#bindsym $mod+Return exec ~/st tmux
#bindsym $mod+Return exec i3-sensible-terminal

# kill focused window
bindsym $mod+Shift+q kill

# start dmenu (a program launcher)
bindsym $mod+d exec --no-startup-id bemenu-run -i --fn 'terminess nerd font mono bold 40' --ab '#004444' --af '#00ffff' --nb '#004444' --nf '#00ffff' --hb '#00ffff' --hf '#000000' --ff '#ffffff' --fb '#000000' --tf '#000000' --tb '#ffffff' -l 9
#bindsym $mod+d exec --no-startup-id dmenu_run -i -fn 'sarasa mono sc nerd:bold:pixelsize=50' -nb '#004444' -nf '#00ffff' -sb '#00ffff' -sf '#000000' -l 9

bindsym $mod+j focus left
bindsym $mod+k focus down
bindsym $mod+l focus up
bindsym $mod+semicolon focus right

bindsym $mod+Shift+j move left
bindsym $mod+Shift+k move down
bindsym $mod+Shift+l move up
bindsym $mod+Shift+semicolon move right

bindsym $mod+h split h
bindsym $mod+v split v

bindsym $mod+f fullscreen toggle

bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

#bindsym $mod+Shift+space floating toggle; resize set 800 1200; move position 30 px 400 px
bindsym $mod+Shift+space floating toggle; resize set 900 600; move position 0 px 0 px
#bindsym $mod+Shift+space floating toggle; resize set 1300 800; move position 1580 px 1000 px
#right bottom
bindsym $mod+Shift+i resize set 900 600; move position 0 px 0 px
#bindsym $mod+Shift+i resize set 1300 800; move position 1580 px 1000 px
#right top
bindsym $mod+Shift+o resize set 900 600; move position 1000 px 0 px

bindsym $mod+space focus mode_toggle

bindsym $mod+ctrl+space exec ${HOME}/dotfiles/script/nextkb

bindsym $mod+a focus parent
bindsym $mod+i focus child

set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
#bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit' -f 'pango:sarasa mono sc nerd 22'" 
bindsym $mod+Shift+e exec "swaynag -t warning -m 'exit sway?' -B 'exit' 'swaymsg exit' -f 'pango:sarasa mono sc nerd 22'" 

mode "resize" {
        bindsym j resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym l resize shrink height 10 px or 10 ppt
        bindsym semicolon resize grow width 10 px or 10 ppt

        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

bindsym $mod+r mode "resize"

bar {
    tray_output none
    # default is dock
    mode dock
    #hidden_state hide
    position top
    #gaps 14 14
    status_command $HOME/.cargo/bin/i3status-rs $HOME/dotfiles/i3status-rust_config.toml
    #status_command py3status
    separator_symbol "î‚½"
    #height 24
    #font pango:terminess nerd font mono, Material Icons 16
    height 26
    font pango:terminess nerd font mono, Material Icons bold, LXGW WenKai GB Screen R 20
    #height 38
    #font pango:terminess nerd font mono, Material Icons bold, LXGW WenKai GB Screen R 26
    #mipad2
    #height 30
    #font pango:terminess nerd font mono, Material Icons bold 12
    colors {
        background #00000000
        #background #00000088
        statusline #ffffff
        separator #ffffff

        #focused_workspace  #00ffff #00ffff #000000
        #active_workspace   #333333 #5f676a #ffffff
        #inactive_workspace #333333 #333333 #00bbbb
        focused_workspace  #00ffff #00ffff #000000
        active_workspace   #ffffff #00000000 #ffffff
        inactive_workspace #00000000 #00000000 #00bbbb
        urgent_workspace   #2f343a #ffff00 #ff0000
        binding_mode       #2f343a #ffff00 #ff0000
    }
}
#bindsym $mod+q exec "i3-msg bar mode dock"

#v4.20 new "include <pattern>"

# class                 border  backgr. text    indicator child_border
client.focused          #00ffff #00ffff #000000 #ffffff   #00ffff
client.unfocused        #333333 #222222 #cccccc #292d2e   #444444
client.background       #00ffff
#gaps inner 14px
#gaps outer 5px
#for_window [class=".*"] border pixel 2
#exec --no-startup-id compton -b

bindsym $mod+equal exec "brightnessctl set 5%+"
bindsym $mod+minus exec "brightnessctl set 5%-"
bindsym $mod+Up    exec "amixer set Master 10%+"
bindsym $mod+Down  exec "amixer set Master 10%-"

bindsym $mod+o exec --no-startup-id transset -t .6 -i $(xprop -root _NET_ACTIVE_WINDOW | awk '{ print $5 }')
#bindsym $mod+shift+o exec --no-startup-id transset 1 -i $(xprop -root _NET_ACTIVE_WINDOW | awk '{ print $5 }')

#exec --no-startup-id xcompmgr -c
exec --no-startup-id /home/u1/code/lean-conky-config/start-lcc.sh
#exec --no-startup-id LC_ALL=zh_CN.utf8 /usr/bin/conky -c /home/u1/dotfiles/conky_rss.conf --daemonize

exec --no-startup-id GDK_SCALE=1 ibus-daemon -drx
#exec --no-startup-id QT_DEVICE_PIXEL_RATIO=1 QT_SCALE_FACTOR=1 QT_SCREEN_SCALE_FACTORS=1 QT_AUTO_SCREEN_SCALE_FACTOR=1 ibus-daemon -drx
#exec --no-startup-id feh --bg-fill ~/dotfiles/bg.png
#exec --no-startup-id bash /home/u1/barriers.sh
#exec --no-startup-id xfce4-panel
#exec --no-startup-id onboard
exec --no-startup-id solaar -w hide

exec --no-startup-id kdeconnect-indicator
exec --no-startup-id /home/u1/code/wlpinyin/build/wlpinyin

#include /etc/sway/config.d/*

##git clone https://github.com/Hippo0o/i3-master-layout
bindsym $mod+m exec --no-startup-id $HOME/.i3/i3-swap-master.py

bindsym $mod+Shift+s sticky toggle

exec_always --no-startup-id $HOME/.i3/i3-master-layout.py

bindsym $mod+p exec grimshot copy area
#bindsym $mod+p exec grim -g "$(slurp -d)" - | wl-copy


################################################################################

#sway config
#default /etc/sway/config

workspace 1 output eDP-1
workspace 2 output eDP-1
workspace 3 output eDP-1
workspace 4 output eDP-1
workspace 5 output eDP-1

workspace 6 output DP-3
workspace 7 output DP-3
workspace 8 output DP-3
workspace 9 output DP-3
workspace 10 output DP-3

#stretch", "fill", "fit", "center", "tile")
output eDP-1 scale 1.5 bg ~/dotfiles/bg.png fill
output DP-3 scale 1 bg ~/dotfiles/bg.png fill
#output eDP-1 {
#   mode 2880x1800@90.000Hz
#   mode 1920x1200@90.000Hz
#   mode 1920x1080@90.000Hz
#}
seat seat0 xcursor_theme pixelfun2-dracula 96
#set $opacity 0.9
#for_window [class=".*"] opacity $opacity
#for_window [app_id=".*"] opacity $opacity

#https://github.com/swaywm/sway/wiki#keyboard-layout
# or input <identifier>
input "type:keyboard" {
    xkb_layout us
    xkb_options caps:swapescape
}

#pop
input "1133:50504:Logitech_USB_Receiver_Consumer_Control" {
    pointer_accel 1
}
input "1133:50504:Logitech_USB_Receiver_Mouse" {
    pointer_accel 1
}
input "1267:12668:MSFT0001:00_04F3:317C_Touchpad" {
    tap enabled
    natural_scroll enabled
    pointer_accel 1
}
exec dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK
#default_border none
default_border pixel 2
default_floating_border normal

set $gnome-schema org.gnome.desktop.interface

exec_always {
    gsettings set $gnome-schema gtk-theme 'Breeze-Dark'
    gsettings set $gnome-schema icon-theme 'Breeze-Dark'
    gsettings set $gnome-schema cursor-theme 'pixelfun2-dracula'
    gsettings set $gnome-schema cursor-size 96
    gsettings set $gnome-schema font-name 'sarasa mono sc nerd 18'
}
